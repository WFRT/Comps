---
layout: tutorial
---
<h2>Installing COMPS</h2>
<h3>Step (1) Pre-requisite</h3><hr>
COMPS uses a few commonly used tools/libraries:
<table class="table table-striped table-condensed">
   <thead>
      <tr><th>Library</th><th>Purpose</th></tr>
   </thead>
   <tr><td><i class="fa fa-circle"></i> <a href="http://www.boost.org/users/download/">SCons</a>
      </td><td>Tool used to compile COMPS</td></tr>
   <tr><td><i class="fa fa-circle"></i> <a href="http://www.boost.org/users/download/">Boost (v1.49)</a>
      </td><td>Boost provides many useful statistical functions</td></tr>
   <tr>
      <td><nobr><i class="fa fa-circle"></i> <a
            href="http://www.unidata.ucar.edu/software/netcdf/">NetCDF (v3.6)</a></nobr></td>
      <td>Read/write NetCDF files. Note both libnetcdf and libnetcdf_c++ are needed.  </td>
   </tr>
   <tr><td><i class="fa fa-circle-o"></i> <a href="https://software.ecmwf.int/wiki/display/GRIB/Home">grib_api</a></td>
       <td>Read GRIB input files</td></tr>
   <tr><td><i class="fa fa-circle-o"></i> ncurses</td><td>Alternate user interface</td></tr>
   <tr><td><i class="fa fa-circle-o"></i> <a href="https://www.python.org/">python</a></td><td>Used to visualize forecasts and verification</td></tr>
</table>
<p>
   <i class="fa fa-circle"></i> Required: will not compile without these<br>
   <i class="fa fa-circle-o"></i> Optional: will run, but some features disabled
</p>

<h4>Setup on Ubuntu</h4>
{% highlight bash %}
sudo apt-get install scons
sudo apt-get install libnetcdf-dev
sudo apt-get install netcdf-bin
sudo apt-get install libboost_filesystem-dev
sudo apt-get install libboost_system-dev
# If you plan on reading GRIB files:
sudo apt-get install grib_api
# If you plan on visualizing the results (a good idea!):
sudo apt-get install python-numpy
sudo apt-get install python-scipy
sudo apt-get install python-matplotlib
{% endhighlight %}

<h4>Setup on Mac OSX (Macports)</h4>
These instructions assumes you use macport as the package manager
{% highlight bash %}
sudo port install scons
sudo port install netcdf
sudo port install netcdf-cxx
sudo port install boost
# If you plan on reading GRIB files:
sudo port install grib_api
# If you plan on visualizing the results (a good idea!):
# Note that python is often already installed on Macs
sudo port install python
sudo port install py-numpy
sudo port install py-scipy
sudo port install py-matplotlib
{% endhighlight %}

<h3>Step (2) Download</h3><hr>
<p>Download the latest code in zip format and unzip the contents:</p>
<a class="btn btn-primary btn-large" href="https://github.com/WFRT/Comps/archive/master.zip">Download</a>
<br>
<br>
<p>Alternatively, fetch the latest version from the git-repository placing it in the
<code>comps</code> directory:</p>
{% highlight bash %}
git clone git://github.com/wfrt/Comps.git comps
{% endhighlight %}
<h3>Step (3) Installation</h3><hr>
COMPS uses the compilation tool scons. But first <code>initSchemes.csh</code> must be run in order to auto-generate code that COMPS uses to enable scheme selection.
Run the following commands in the top directory to compile:
{% highlight bash %}
csh ./initSchemes.csh
scons
{% endhighlight %}
<p>
   If the compilation is successful, the main program <code>comps.exe</code> will
   be created, along with two helper programs <code>info.exe</code>, <code>convert.exe</code>.
</p>

<p>
<h4>Missing libraries</h4>
If scons cannot find a required library, it will abandon the compilation. This
can happen if the library is not found in one of the expected locations
(<code>/usr/lib/, /usr/local/lib</code>, etc...). If you have
installed the libraries in a unusual location create a file called
<code>local.scons</code> in the comps root directory and add the following
contents in it (replacing the appropriate paths):
{% highlight python %}
Import('env')
env.Append(LIBPATH  = ['/path/to/lib1/', '/path/to/lib2/'])
env.Append(CPPPATH  = ['/path/to/include1/', '/path/to/include2/'])
{% endhighlight %}
</p>
